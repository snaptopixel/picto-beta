import*as tslib_1 from"../polyfills/tslib.js";import{h}from"../picto.core.js";import{c as createCommonjsModule,d as css}from"./chunk-a05410b6.js";var styles,classnames=createCommonjsModule(function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],s=0;s<arguments.length;s++){var a=arguments[s];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)&&a.length){var o=n.apply(null,a);o&&e.push(o)}else if("object"===i)for(var r in a)t.call(a,r)&&a[r]&&e.push(r)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()});function checkerboard(e,t){return css(templateObject_1||(templateObject_1=tslib_1.__makeTemplateObject(["\n    background-image: ",";\n    background-size: ","px ","px;\n    background-position: 0 0, ","px ","px;\n  "],["\n    background-image: ",";\n    background-size: ","px ","px;\n    background-position: 0 0, ","px ","px;\n  "])),["linear-gradient(45deg, "+t+" 25%, transparent 25%, transparent 75%, "+t+" 75%, "+t+")","linear-gradient(45deg, "+t+" 25%, transparent 25%, transparent 75%, "+t+" 75%, "+t+")"].join(", "),e,e,e/2,e/2)}!function(e){e.previewCard=classnames("card-content",css(templateObject_2||(templateObject_2=tslib_1.__makeTemplateObject(["\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      padding: 1.5rem;\n      background-color: white;\n      ",";\n    "],["\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      padding: 1.5rem;\n      background-color: white;\n      ",";\n    "])),checkerboard(20,"rgba(0, 0, 0, .05)"))),e.sourceCard=classnames("card-content",css(templateObject_3||(templateObject_3=tslib_1.__makeTemplateObject(["\n      .hljs {\n        margin: -1.5rem;\n      }\n    "],["\n      .hljs {\n        margin: -1.5rem;\n      }\n    "])))),e.eventsCard=classnames("card-content",css(templateObject_4||(templateObject_4=tslib_1.__makeTemplateObject(["\n      height: 200px;\n      th {\n        position: relative;\n      }\n      td {\n        padding: '0';\n        vertical-align: 'middle';\n      }\n      td:first-of-type {\n        padding-left: 0.5rem;\n        width: 25%;\n      }\n      .hljs {\n        padding: 0.5rem !important;\n      }\n    "],["\n      height: 200px;\n      th {\n        position: relative;\n      }\n      td {\n        padding: '0';\n        vertical-align: 'middle';\n      }\n      td:first-of-type {\n        padding-left: 0.5rem;\n        width: 25%;\n      }\n      .hljs {\n        padding: 0.5rem !important;\n      }\n    "])))),e.footerItem=classnames("card-footer-item","is-size-7",css(templateObject_5||(templateObject_5=tslib_1.__makeTemplateObject(["\n      font-weight: bold;\n      padding: 0.3rem !important;\n      &.is-selected {\n        box-shadow: 0 1px inset;\n      }\n    "],["\n      font-weight: bold;\n      padding: 0.3rem !important;\n      &.is-selected {\n        box-shadow: 0 1px inset;\n      }\n    "])))),e.footerTag=classnames("tag","is-link","is-rounded","is-outlined",css(templateObject_6||(templateObject_6=tslib_1.__makeTemplateObject(["\n      margin-left: 0.5rem;\n      font-size: 0.65rem;\n      font-weight: bold;\n      line-height: 1;\n      &:empty {\n        display: none !important;\n      }\n    "],["\n      margin-left: 0.5rem;\n      font-size: 0.65rem;\n      font-weight: bold;\n      line-height: 1;\n      &:empty {\n        display: none !important;\n      }\n    "]))))}(styles||(styles={}));var styles$1,Preview=function(){function e(){this.state="preview",this.events=[],this.viewedEventsCount=0}return Object.defineProperty(e.prototype,"eventCount",{get:function(){return"events"===this.state||this.events.length<=this.viewedEventsCount?null:this.events.length-this.viewedEventsCount},enumerable:!0,configurable:!0}),e.prototype.setState=function(e,t){t.preventDefault(),"events"===e&&(this.viewedEventsCount=this.events.length),this.state=e},e.prototype.handleEvent=function(e){this.events=this.events.concat([e])},e.prototype.componentWillLoad=function(){this.source=unescape(this.source)},e.prototype.render=function(){var e,t,n;return[h("picto-styled",null,h("div",{class:"card"},h("div",{class:styles.previewCard,style:{display:"preview"===this.state?null:"none"}},h("div",{innerHTML:this.source,"no-style":!0})),h("div",{class:styles.sourceCard,style:{display:"source"===this.state?null:"none"}},h("picto-code",{source:this.source,lang:"html"})),h("picto-scrollarea",{class:styles.eventsCard,style:{display:"events"===this.state?"block":"none"}},h("picto-preview-events",{events:[{name:"foo",value:{foo:"bar"}},{name:"bar",value:1},{name:"baz",value:!0},{name:"foo",value:{foo:"bar"}},{name:"bar",value:1},{name:"baz",value:!0},{name:"foo",value:{foo:"bar"}},{name:"bar",value:1},{name:"baz",value:!0}]})),h("footer",{class:"card-footer"},h("a",{class:(e={},e[styles.footerItem]=!0,e["is-selected"]="preview"===this.state,e),href:"",onClick:this.setState.bind(this,"preview")},h("span",null,h("picto-icon",{name:"paint-roller"}),"Preview")),h("a",{class:(t={},t[styles.footerItem]=!0,t["is-selected"]="source"===this.state,t),href:"",onClick:this.setState.bind(this,"source")},h("span",null,h("picto-icon",{name:"code"}),"Source")),h("a",{class:(n={},n[styles.footerItem]=!0,n["is-selected"]="events"===this.state,n),href:"",onClick:this.setState.bind(this,"events")},h("span",null,h("picto-icon",{name:"broadcast-tower"}),"Events"),h("span",{class:styles.footerTag},this.eventCount)))))]},Object.defineProperty(e,"is",{get:function(){return"picto-preview"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{el:{elementRef:!0},events:{state:!0},source:{type:String,attr:"source",mutable:!0},state:{state:!0}}},enumerable:!0,configurable:!0}),e}();!function(e){e.table=classnames("table",css(templateObject_7||(templateObject_7=tslib_1.__makeTemplateObject(["\n      width: 100%;\n      td {\n        padding: 0;\n        vertical-align: middle;\n      }\n      td:first-of-type {\n        padding-left: 0.5rem;\n        width: 25%;\n      }\n      .hljs {\n        margin: -0.5rem;\n      }\n    "],["\n      width: 100%;\n      td {\n        padding: 0;\n        vertical-align: middle;\n      }\n      td:first-of-type {\n        padding-left: 0.5rem;\n        width: 25%;\n      }\n      .hljs {\n        margin: -0.5rem;\n      }\n    "])))),e.tip=classnames("has-text-info","has-text-grey-light",css(templateObject_8||(templateObject_8=tslib_1.__makeTemplateObject(["\n      position: absolute;\n      margin-top: -0.5em;\n    "],["\n      position: absolute;\n      margin-top: -0.5em;\n    "]))))}(styles$1||(styles$1={}));var styles$2,Events=function(){function e(){}return e.prototype.render=function(){return[h("picto-styled",null,h("table",{class:styles$1.table},h("tr",null,h("th",null,"Event"),h("th",null,"Detail"," ",h("a",{title:"Check dev console for more info"},h("picto-icon",{class:styles$1.tip,name:"info-circle"})))),this.events.map(function(e){return h("tr",null,h("td",null,e.name),h("td",null,h("picto-code",{source:JSON.stringify(e.value),lang:"js"})))})))]},Object.defineProperty(e,"is",{get:function(){return"picto-preview-events"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{events:{type:"Any",attr:"events"}}},enumerable:!0,configurable:!0}),e}();!function(e){var t=css(templateObject_9||(templateObject_9=tslib_1.__makeTemplateObject(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n  "],["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n  "]))),n=function(e){return css(templateObject_10||(templateObject_10=tslib_1.__makeTemplateObject(["\n    content: '';\n    opacity: 0;\n    transition: opacity linear 100ms;\n    position: absolute;\n    width: 100%;\n    height: 10px;\n    ",": 0;\n    background: linear-gradient(\n      to ",",\n      transparent,\n      rgba(0, 0, 0, 0.1)\n    );\n    [scroll-","] & {\n      opacity: 1;\n    }\n  "],["\n    content: '';\n    opacity: 0;\n    transition: opacity linear 100ms;\n    position: absolute;\n    width: 100%;\n    height: 10px;\n    ",": 0;\n    background: linear-gradient(\n      to ",",\n      transparent,\n      rgba(0, 0, 0, 0.1)\n    );\n    [scroll-","] & {\n      opacity: 1;\n    }\n  "])),e,e,e)};e.component=css(templateObject_11||(templateObject_11=tslib_1.__makeTemplateObject(["\n    display: block;\n    position: relative;\n  "],["\n    display: block;\n    position: relative;\n  "]))),e.content=css(templateObject_12||(templateObject_12=tslib_1.__makeTemplateObject(["\n    ",";\n    overflow: auto;\n  "],["\n    ",";\n    overflow: auto;\n  "])),t),e.overlay=css(templateObject_13||(templateObject_13=tslib_1.__makeTemplateObject(["\n    pointer-events: none;\n    ",";\n    &:before {\n      ",";\n    }\n    &:after {\n      ",";\n    }\n  "],["\n    pointer-events: none;\n    ",";\n    &:before {\n      ",";\n    }\n    &:after {\n      ",";\n    }\n  "])),t,n("top"),n("bottom"))}(styles$2||(styles$2={}));var templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,templateObject_6,templateObject_7,templateObject_8,templateObject_9,templateObject_10,templateObject_11,templateObject_12,templateObject_13,ScrollArea=function(){function e(){var e=this;this.scrollListener=function(){requestAnimationFrame(e.trackScrolling)},this.trackScrolling=function(){var t=e.scrollEl.scrollTop,n=e.scrollEl.clientHeight,s=e.scrollEl.scrollHeight;e.setAttr("scroll-top",t>0),e.setAttr("scroll-bottom",s-t!==n)}}return e.prototype.setAttr=function(e,t){t?this.el.setAttribute(e,""):this.el.removeAttribute(e)},e.prototype.componentDidLoad=function(){this.trackScrolling()},e.prototype.hostData=function(){return{class:styles$2.component}},e.prototype.render=function(){var e=this;return[h("div",{ref:function(t){return e.scrollEl=t},onScroll:this.scrollListener,class:styles$2.content},h("slot",null)),h("div",{class:styles$2.overlay})]},Object.defineProperty(e,"is",{get:function(){return"picto-scrollarea"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{el:{elementRef:!0}}},enumerable:!0,configurable:!0}),e}();export{Preview as PictoPreview,Events as PictoPreviewEvents,ScrollArea as PictoScrollarea};