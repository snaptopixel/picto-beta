function hasBasename(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)}function stripBasename(e,t){return hasBasename(e,t)?e.substr(t.length):e}function stripTrailingSlash(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function addLeadingSlash(e){return"/"===e.charAt(0)?e:"/"+e}function stripLeadingSlash(e){return"/"===e.charAt(0)?e.substr(1):e}function parsePath(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r,query:{},key:""}}function createPath(e){var t=e.search,n=e.hash,r=e.pathname||"/";return t&&"?"!==t&&(r+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(r+="#"===n.charAt(0)?n:"#"+n),r}function parseQueryString(e){return e?(/^[?#]/.test(e)?e.slice(1):e).split("&").reduce(function(e,t){var n=t.split("="),r=n[1];return e[n[0]]=r?decodeURIComponent(r.replace(/\+/g," ")):"",e},{}):{}}function isAbsolute(e){return"/"===e.charAt(0)}function createKey(e){return Math.random().toString(36).substr(2,e)}function spliceOne(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}function resolvePathname(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],o=e&&isAbsolute(e),s=t&&isAbsolute(t),i=o||s;if(e&&isAbsolute(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var u=a[a.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=a.length;l>=0;l--){var h=a[l];"."===h?spliceOne(a,l):".."===h?(spliceOne(a,l),c++):c&&(spliceOne(a,l),c--)}if(!i)for(;c--;c)a.unshift("..");!i||""===a[0]||a[0]&&isAbsolute(a[0])||a.unshift("");var f=a.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}function valueEqual(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return valueEqual(e,t[n])});var n=typeof e;if(n!==typeof t)return!1;if("object"===n){var r=e.valueOf(),a=t.valueOf();if(r!==e||a!==t)return valueEqual(r,a);var o=Object.keys(e),s=Object.keys(t);return o.length===s.length&&o.every(function(n){return valueEqual(e[n],t[n])})}return!1}function locationsAreEqual(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&valueEqual(e.state,t.state)}function createLocation(e,t,n,r){var a;"string"==typeof e?void 0!==(a=parsePath(e)).state&&(a.state=t):((a=Object.assign({pathname:""},e)).search&&"?"!==a.search.charAt(0)&&(a.search="?"+a.search),a.hash&&"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash),void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return a.key=n,r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=resolvePathname(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a.query=parseQueryString(a.search||""),a}function u(e,t){for(var n,r,a=null,o=!1,s=!1,i=arguments.length;i-- >2;)T.push(arguments[i]);for(;T.length>0;){var u=T.pop();if(u&&void 0!==u.pop)for(i=u.length;i--;)T.push(u[i]);else"boolean"==typeof u&&(u=null),(s="function"!=typeof e)&&(null==u?u="":"number"==typeof u?u=String(u):"string"!=typeof u&&(s=!1)),s&&o?a[a.length-1].vtext+=u:null===a?a=[s?{vtext:u}:u]:a.push(s?{vtext:u}:u),o=s}if(null!=t){if(t.className&&(t.class=t.className),"object"==typeof t.class){for(i in t.class)t.class[i]&&T.push(i);t.class=T.join(" "),T.length=0}null!=t.key&&(n=t.key),null!=t.name&&(r=t.name)}return"function"==typeof e?e(t,a||[],W):{vtag:e,vchildren:a,vtext:void 0,vattrs:t,vkey:n,vname:r,w:void 0,g:!1}}function f(e){return{vtag:e.vtag,vchildren:e.vchildren,vtext:e.vtext,vattrs:e.vattrs,vkey:e.vkey,vname:e.vname}}Object.setPrototypeOf||Array;var T=[],W={forEach:function(e,t){e.forEach(function(e,n,r){return t(f(e),n,r)})},map:function(e,t){return e.map(function(e,n,r){return function(e){return{vtag:e.vtag,vchildren:e.vchildren,vtext:e.vtext,vattrs:e.vattrs,vkey:e.vkey,vname:e.vname}}(t(f(e),n,r))})}},__rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n};function defaultConsumerRender(e,t){return u("context-consumer",{subscribe:e,renderer:t})}function createProviderConsumer(e,t){void 0===t&&(t=defaultConsumerRender);var n=new Map,r=e;function a(e,t){Array.isArray(e)?e.slice().forEach(function(e){t[e]=r[e]}):t[e]=Object.assign({},r),t.forceUpdate()}function o(e){return function(t){n.has(t)||(n.set(t,e),a(e,t))}}function s(e,t){return o(t)(e),function(){n.delete(e)}}return{Provider:function(e,t){return r=e.state,n.forEach(a),t},Consumer:function(e,n){return t(s,n[0])},wrapConsumer:function(e,t){var n=e.is;return function(e){var r=e.children,a=__rest(e,["children"]);return u(n,Object.assign({ref:o(t)},a),r)}},injectProps:function(e,t){var n=null,r=Object.keys(e.properties).find(function(t){return 1==e.properties[t].elementRef});if(null==r)throw new Error("Please ensure that your Component "+e.is+' has an attribute with an "@Element" decorator. This is required to be able to inject properties.');var a=e.prototype.componentWillLoad;e.prototype.componentWillLoad=function(){if(n=s(this[r],t),a)return a.bind(this)()};var o=e.prototype.componentDidUnload;e.prototype.componentDidUnload=function(){if(n(),o)return o.bind(this)()}}}}var ActiveRouter=createProviderConsumer({historyType:"browser",location:{pathname:"",query:{},key:""},titleSuffix:"",root:"/",routeViewsUpdated:function(){}});export{ActiveRouter as a,valueEqual as b,createLocation as c,createKey as d,addLeadingSlash as e,stripTrailingSlash as f,hasBasename as g,stripBasename as h,createPath as i,locationsAreEqual as j,stripLeadingSlash as k};