import{k as valueEqual}from"./chunk-5f7fd877.js";var DEFAULT_DELIMITER="/",DEFAULT_DELIMITERS="./",PATH_REGEXP=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function parse(e,r){for(var t,n=[],a=0,i=0,p="",c=r&&r.delimiter||DEFAULT_DELIMITER,u=r&&r.delimiters||DEFAULT_DELIMITERS,o=!1;null!==(t=PATH_REGEXP.exec(e));){var l=t[0],s=t[1],g=t.index;if(p+=e.slice(i,g),i=g+l.length,s)p+=s[1],o=!0;else{var h="",f=e[i],E=t[2],x=t[3],v=t[4],T=t[5];if(!o&&p.length){var m=p.length-1;u.indexOf(p[m])>-1&&(h=p[m],p=p.slice(0,m))}p&&(n.push(p),p="",o=!1);var R=h||c,d=x||v;n.push({name:E||a++,prefix:h,delimiter:R,optional:"?"===T||"*"===T,repeat:"+"===T||"*"===T,partial:""!==h&&void 0!==f&&f!==h,pattern:d?escapeGroup(d):"[^"+escapeString(R)+"]+?"})}}return(p||i<e.length)&&n.push(p+e.substr(i)),n}function escapeString(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function flags(e){return e&&e.sensitive?"":"i"}function regexpToRegexp(e,r){if(!r)return e;var t=e.source.match(/\((?!\?)/g);if(t)for(var n=0;n<t.length;n++)r.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return e}function arrayToRegexp(e,r,t){for(var n=[],a=0;a<e.length;a++)n.push(pathToRegexp(e[a],r,t).source);return new RegExp("(?:"+n.join("|")+")",flags(t))}function stringToRegexp(e,r,t){return tokensToRegExp(parse(e,t),r,t)}function tokensToRegExp(e,r,t){for(var n=(t=t||{}).strict,a=!1!==t.end,i=escapeString(t.delimiter||DEFAULT_DELIMITER),p=t.delimiters||DEFAULT_DELIMITERS,c=[].concat(t.endsWith||[]).map(escapeString).concat("$").join("|"),u="",o=!1,l=0;l<e.length;l++){var s=e[l];if("string"==typeof s)u+=escapeString(s),o=l===e.length-1&&p.indexOf(s[s.length-1])>-1;else{var g=escapeString(s.prefix||""),h=s.repeat?"(?:"+s.pattern+")(?:"+g+"(?:"+s.pattern+"))*":s.pattern;r&&r.push(s),u+=s.optional?s.partial?g+"("+h+")?":"(?:"+g+"("+h+"))?":g+"("+h+")"}}return a?(n||(u+="(?:"+i+")?"),u+="$"===c?"$":"(?="+c+")"):(n||(u+="(?:"+i+"(?="+c+"))?"),o||(u+="(?="+i+"|"+c+")")),new RegExp("^"+u,flags(t))}function pathToRegexp(e,r,t){return e instanceof RegExp?regexpToRegexp(e,r):Array.isArray(e)?arrayToRegexp(e,r,t):stringToRegexp(e,r,t)}var patternCache={},cacheLimit=1e4,cacheCount=0;function compilePath(e,r){var t=""+r.end+r.strict,n=patternCache[t]||(patternCache[t]={}),a=JSON.stringify(e);if(n[a])return n[a];var i=[],p={re:pathToRegexp(e,i,r),keys:i};return cacheCount<cacheLimit&&(n[a]=p,cacheCount+=1),p}function matchPath(e,r){void 0===r&&(r={}),"string"==typeof r&&(r={path:r});var t=r.path,n=void 0===t?"/":t,a=r.exact,i=void 0!==a&&a,p=r.strict,c=compilePath(n,{end:i,strict:void 0!==p&&p}),u=c.keys,o=c.re.exec(e);if(!o)return null;var l=o[0],s=o.slice(1),g=e===l;return i&&!g?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:g,params:u.reduce(function(e,r,t){return e[r.name]=s[t],e},{})}}function matchesAreEqual(e,r){return null==e&&null==r||null!=r&&e&&r&&e.path===r.path&&e.url===r.url&&valueEqual(e.params,r.params)}export{matchPath as a,matchesAreEqual as b};